<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Arohanagara — Business Case Studies (VSCode-style Preview)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#010207;
      --muted:#b7c4d0;
      --accent-b:#38bdf8;
      --cta-grad: linear-gradient(90deg,#22c55e 0%, #38bdf8 45%, #8b5cf6 100%);
      --card-border-soft: rgba(255,255,255,0.02);
      --mono: "Roboto Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;
      --max-width:1240px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,"Helvetica Neue",Arial;color:#eaf6ff;-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
    body{
      background:
        radial-gradient(700px at 8% 6%, rgba(56,189,248,0.06), transparent 30%),
        radial-gradient(700px at 92% 8%, rgba(139,92,246,0.04), transparent 30%),
        linear-gradient(180deg,var(--bg) 0%, #021226 40%);
      padding:28px;
      display:flex;
      justify-content:center;
    }

    .wrap{width:100%;max-width:var(--max-width);display:grid;gap:22px}

    /* Header */
    .header-card{
      border-radius:14px;padding:20px;background:#000;border:1px solid rgba(255,255,255,0.03);box-shadow:0 18px 40px rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:space-between;gap:18px;
    }
    .header-left{flex:1}
    .breadcrumb{color:var(--accent-b);font-weight:700;font-size:0.78rem;letter-spacing:0.14em;text-transform:uppercase;margin-bottom:8px;opacity:0.95}
    .header-title{margin:0;font-size:1.9rem;font-weight:800;color:#f4fbff;}
    .header-sub{margin-top:8px;color:var(--muted)}

    .header-right{display:flex;align-items:center;gap:8px}
    .controls-inline{display:flex;gap:10px}
    .view-btn{padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);font-weight:700;cursor:pointer}
    .view-btn.active{background:linear-gradient(90deg,#061122,#0b1b2a);color:var(--accent-b);box-shadow:0 10px 24px rgba(0,0,0,0.6);border:1px solid rgba(56,189,248,0.14)}

    /* Grid (2 columns default) */
    .board{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}
    @media (max-width:920px){ .board{grid-template-columns:1fr} }

    /* Card: keep interior black, but make vibrant soft background behind it (card border glow) */
    .case{
      position:relative;border-radius:12px;padding:18px;min-height:220px;display:flex;flex-direction:column;gap:12px;background:#020617;border:1px solid var(--card-border-soft);box-shadow:0 10px 30px rgba(2,6,12,0.6);
      overflow:hidden;
    }
    /* soft outer color wash to give vibrancy but keep the box black */
    .case::after{
      content:"";position:absolute;inset:-40% -30% auto auto;width:320px;height:320px;border-radius:36%;pointer-events:none;opacity:0.14;
      background:radial-gradient(circle at 20% 25%, rgba(56,189,248,0.12), rgba(139,92,246,0.06) 40%, transparent 60%);
    }
    .meta{font-size:0.78rem;color:var(--muted);text-transform:uppercase}
    .case h3{margin:0;font-size:1.02rem;color:#eaf6ff}
    .desc{color:var(--muted);line-height:1.55;font-size:0.98rem;max-height:6.8em;overflow:hidden}
    .taglist{display:flex;gap:8px;flex-wrap:wrap}
    .tag-pill{padding:6px 10px;border-radius:999px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);font-size:0.82rem}

    .impl{display:flex;justify-content:flex-end}
    .cta-btn{display:inline-flex;align-items:center;gap:10px;padding:10px 18px;border-radius:999px;border:0;cursor:pointer;font-weight:700;color:#041225;background:var(--cta-grad);box-shadow:0 8px 30px rgba(0,0,0,0.6)}
    .cta-icon{width:18px;height:18px;border-radius:50%;background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.85), rgba(255,255,255,0.12) 8%),linear-gradient(135deg,#dff6ff,#38bdf8 60%, #8b5cf6 100%);}

    /* Flow box (monospace small graph-like lines) */
    .flow-box{margin-top:8px;border-radius:8px;background:#031018;padding:16px;border:2px dashed rgba(56,189,248,0.12);font-family:var(--mono);color:#6fe0ff;font-size:14px;white-space:pre-line;line-height:1.8}

    /* List view */
    .listview{display:none;flex-direction:column;gap:12px}
    .list-item{display:flex;gap:14px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));border:1px solid rgba(255,255,255,0.02)}
    .case-num{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#22c55e,#38bdf8);display:flex;align-items:center;justify-content:center;font-weight:800;color:#021617}
    .list-body h4{margin:0}
    .list-body p{color:var(--muted);margin-top:8px}

    footer{margin-top:14px;color:var(--muted);font-size:0.85rem;text-align:right}

    /* Modal (VS Code-like) */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.82);display:none;align-items:center;justify-content:center;z-index:120;padding:28px}
    .modal{width:min(1100px,98%);max-height:86vh;border-radius:8px;overflow:hidden;box-shadow:0 40px 140px rgba(2,6,23,0.92);display:flex;flex-direction:column;background:linear-gradient(180deg,#071821,#041018);border:1px solid rgba(255,255,255,0.04);font-family:var(--mono)}
    .modal-head{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg,#071a26,#041018)}
    .modal-title{display:flex;flex-direction:column}
    .file-name{font-weight:800;color:#eaf6ff}
    .file-sub{font-size:12px;color:var(--muted)}
    .modal-actions{display:flex;gap:8px}
    .modal-actions .btn{padding:8px 12px;border-radius:6px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);cursor:pointer;font-weight:700}
    .modal-actions .btn.primary{background:#0b4b66;color:#e7fbff}

    /* Editor layout: gutter + code */
    .editor{display:grid;grid-template-columns:56px 1fr;min-height:420px;height:100%;overflow:hidden}
    .gutter{background:#07121a;color:#6b7780;padding:12px 10px;overflow:auto;text-align:right;font-family:var(--mono);font-size:12px;line-height:20px;border-right:1px solid rgba(255,255,255,0.02);user-select:none}
    .code-area{background:linear-gradient(180deg,#02101a,#01111a);color:#cfeefe;padding:14px 18px;overflow:auto;font-family:var(--mono);font-size:13px;line-height:20px;white-space:pre-wrap}
    /* Syntax token classes used by JS highlighter */
    .tok-comment{ color:#6a9aa7; }   /* comments */
    .tok-keyword{ color:#ff9aa2; font-weight:700; } /* keywords */
    .tok-type{ color:#7de3d8; }     /* types */
    .tok-number{ color:#f59e0b; }   /* numbers */
    .tok-string{ color:#f3b1ff; }   /* strings */

    /* Scrollbars for modal editor */
    .gutter::-webkit-scrollbar, .code-area::-webkit-scrollbar { width:12px; height:12px; }
    .gutter::-webkit-scrollbar-thumb, .code-area::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.06); border-radius:8px; border:3px solid transparent; background-clip: padding-box; }

    @media (max-width:920px){
      .editor{grid-template-columns:48px 1fr}
      .gutter{font-size:11px;padding:10px}
      .code-area{font-size:12px;padding:10px}
    }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <div class="header-card" role="region" aria-label="page header">
      <div class="header-left">
        <div class="breadcrumb">BUSINESS CASE STUDIES · SHASHANK R. YENDE</div>
        <h1 class="header-title">Mobility & Industrial Operations — DS & Algo Case Studies</h1>
        <p class="header-sub">Ten sustainability-focused systems includes all movement, transport, automotive and manufacturing.</p>
      </div>

      <div class="header-right" role="region" aria-label="view controls">
        <div class="controls-inline" role="tablist" aria-label="view selectors">
          <button id="listViewBtn" class="view-btn" aria-pressed="false">List</button>
          <button id="gridViewBtn" class="view-btn active" aria-pressed="true">Grid</button>
        </div>
      </div>
    </div>

    <!-- Grid -->
    <section id="board" class="board" aria-live="polite"></section>

    <!-- List -->
    <section id="listView" class="listview" aria-live="polite"></section>

    <footer>© 2025 Shashank · Design &amp; Analysis of Algorithms — Arohanagara</footer>
  </div>

  <!-- VS Code-like modal -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <div class="modal-head">
        <div class="modal-title">
          <div class="file-name" id="modalTitle">Case code</div>
          <div class="file-sub" id="modalSub">Shashank/CaseX.cpp</div>
        </div>
        <div class="modal-actions">
          <button id="copyBtn" class="btn" title="Copy">Copy</button>
          <button id="closeModal" class="btn" title="Close">Close</button>
        </div>
      </div>

      <div class="editor" role="region" aria-label="Code editor">
        <pre id="gutter" class="gutter" aria-hidden="true"></pre>
        <pre id="codeArea" class="code-area" tabindex="0" aria-label="Code content">Loading preview...</pre>
      </div>
    </div>
  </div>

  <script>
    // Data (same as you had; implLink should point to actual files or use placeholders)
    const cases = [
      { id:1, kicker:'Case 1 · Ride-Sharing', title:'Ride-Sharing & Dynamic Dispatch System', summary:`A ride-sharing and dynamic dispatch system is designed for real-time driver–rider matching and route optimization. It rapidly locates nearby available drivers using geospatial methods, ranks them (often by estimated time of arrival or distance), and optimally assigns ride requests. Route optimization ensures the chosen driver uses the shortest or fastest path to the pickup and drop-off points, often utilizing algorithms like Dijkstra or Bellman-Ford. Data structures like heaps (priority queues) prioritize drivers, regular queues buffer ride requests, and hashing supports fast lookups of drivers and users in a large, live system.`, implLink:'Shashank/Case1.cpp', tags:['Real-time Matching','Shortest Paths','Heaps','Queues','Hashing'] },
      { id:2, kicker:'Case 2 · EV Charging', title:'EV Charging Network – Slot Scheduling', summary:`An EV charging network slot-scheduling system helps a user find the nearest suitable charger and reserve a time slot while keeping charger availability and station load up to date in real time. Efficient data structures like segment trees or Fenwick trees track which time slots are free or occupied, heaps prioritize the next-free or closest chargers, hash maps support fast reservation lookups, and arrays/structs store base station and charger data.`, implLink:'Shashank/Case2.cpp', tags:['Scheduling','Segment Tree','Fenwick','Heaps'] },
      { id:3, kicker:'Case 3 · Logistics', title:'Warehouse & Distribution Routing', summary:`A warehouse and distribution routing system connects depots and customers with low-cost transport links and forms efficient delivery batches for orders. It can use minimum spanning tree (MST) algorithms like Kruskal or Prim to design a cheap backbone network between depots, trucks, or hubs, while sorting and lists help order and store delivery sequences inside each batch.`, implLink:'Shashank/Case3.cpp', tags:['MST','DSU','Routing','Batching'] },
      { id:4, kicker:'Case 4 · Recycling', title:'Waste Processing & Recycling Operations', summary:`A waste processing and recycling system must quickly sort mixed waste, prioritize urgent/perishable loads, and keep conveyor and truck flows smooth. Heaps can prioritize loads that must be processed first, queues buffer waste on conveyors or waiting trucks, basic sorting algorithms help classify and order waste items, Union-Find groups recyclable materials into compatible classes, DFS on a process graph can reveal bottlenecks.`, implLink:'Shashank/Case4.cpp', tags:['Queues','Heaps','DSU','DFS'] },
      { id:5, kicker:'Case 5 · Tolling', title:'Smart Toll Collection & Vehicle Lookup', summary:`A smart toll collection and vehicle lookup system reads a license plate (via camera/OCR or RFID tag), finds the corresponding vehicle record, checks its balance, selects the correct toll slab based on ordered rules, and then deducts the toll automatically. Tries support fast plate prefix lookup and hash maps store balances and metadata.`, implLink:'Shashank/Case5.cpp', tags:['Trie','AVL','Skip List','HashMap'] },
      { id:6, kicker:'Case 6 · Reliability', title:'Predictive Maintenance & Alerting', summary:`Predictive maintenance and alerting systems continuously analyze sensor streams from machines to detect abnormal behavior early and trigger prioritized alerts. Segment trees, Fenwick trees, and sparse tables support fast range statistics on sensor readings, heaps rank alerts by severity, and queues buffer maintenance tasks.`, implLink:'Shashank/Case6.cpp', tags:['Segment Tree','Fenwick','Sparse Table','Heap'] },
      { id:7, kicker:'Case 7 · Parking', title:'Case 7 · Parking', title:'Smart Parking – Slot Allocation System', summary:`A smart parking slot allocation system keeps slots ordered and searchable, supports fast updates when cars enter/exit, and instantly maps vehicles to their reserved or occupied slots. Ordered trees or skip lists maintain free/occupied slots by number or distance, hash maps link each vehicle to its current slot.`, implLink:'Shashank/Case7.cpp', tags:['AVL','Skip List','HashMap'] },
      { id:8, kicker:'Case 8 · Smart City', title:'Smart Streetlight Monitoring', summary:`A smart streetlight monitoring system continuously checks poles and circuits to detect faults, group nearby failures, and compute efficient repair routes for maintenance crews. Graph algorithms (BFS/DFS, Dijkstra, Union-Find) work on the streetlight/circuit network, while sparse tables and basic structures manage brightness logs and pole metadata.`, implLink:'Shashank/Case8.cpp', tags:['Graphs','BFS','Dijkstra'] },
      { id:9, kicker:'Case 9 · Water', title:'Water Treatment & Pipeline Optimization', summary:`A water treatment and pipeline optimization system models plants and pipe networks as graphs to trace flow, find low-loss pressure paths, isolate faulty zones, and quickly answer flow/pressure queries.`, implLink:'Shashank/Case9.cpp', tags:['Graph','Dijkstra','Bellman-Ford'] },
      { id:10, kicker:'Case 10 · Mobility', title:'Traffic Signal Optimization', summary:`Traffic signal optimization systems use live detector counts and historical patterns to adapt green times, coordinate corridors, and prioritize the most congested junctions.`, implLink:'Shashank/Case10.cpp', tags:['Fenwick','Segment','Sparse Table','Heap'] }
    ];

    // elements
    const board = document.getElementById('board');
    const listViewEl = document.getElementById('listView');
    const modalBackdrop = document.getElementById('modalBackdrop');
    const gutter = document.getElementById('gutter');
    const codeArea = document.getElementById('codeArea');
    const modalTitle = document.getElementById('modalTitle');
    const modalSub = document.getElementById('modalSub');
    const listBtn = document.getElementById('listViewBtn');
    const gridBtn = document.getElementById('gridViewBtn');
    const copyBtn = document.getElementById('copyBtn');

    // helper
    function el(tag, cls='', inner=''){ const e=document.createElement(tag); if(cls) e.className=cls; if(inner!==undefined) e.innerHTML=inner; return e; }
    function esc(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

    // render grid (2 per row)
    function renderGrid(list){
      board.innerHTML = '';
      list.forEach(c=>{
        const card = el('article','case');
        card.id = 'case'+c.id;
        card.innerHTML = `
          <div>
            <div class="meta">${esc(c.kicker)}</div>
            <h3>${esc(c.title)}</h3>
            <div class="desc">${esc(c.summary)}</div>
            <div class="taglist">${c.tags.map(t=>`<span class="tag-pill">${esc(t)}</span>`).join('')}</div>
          </div>
        `;
        const impl = el('div','impl');
        const btn = el('button','cta-btn');
        btn.setAttribute('data-link', esc(c.implLink));
        btn.setAttribute('data-title', esc(c.title));
        btn.innerHTML = `<span class="cta-icon" aria-hidden="true"></span><span>View C++ Code</span>`;
        impl.appendChild(btn);

        // flow box for case 1 example or for all we can generate from provided short lists
        const flow = el('div','flow-box');
        flow.innerText = buildFlowTextForCase(c.id);
        card.appendChild(flow);

        card.appendChild(impl);
        board.appendChild(card);
      });
      attachModalTriggers();
    }

    // render list
    function renderList(list){
      listViewEl.innerHTML = '';
      list.forEach(c=>{
        const li = el('div','list-item');
        li.innerHTML = `
          <div class="list-left">
            <div class="case-num">${c.id}</div>
            <div class="list-body">
              <h4>${esc(c.title)}</h4>
              <p>${esc(c.summary)}</p>
              <div style="margin-top:8px">${c.tags.map(t=>`<span class="tag-pill" style="margin-right:6px">${esc(t)}</span>`).join('')}</div>
            </div>
          </div>`;
        const right = el('div');
        right.style.cssText = "display:flex;flex-direction:column;align-items:flex-end;gap:10px";
        const btn = el('button','cta-btn');
        btn.setAttribute('data-link', esc(c.implLink));
        btn.setAttribute('data-title', esc(c.title));
        btn.innerHTML = `<span class="cta-icon" aria-hidden="true"></span><span>View C++ Code</span>`;
        right.appendChild(btn);
        li.appendChild(right);
        listViewEl.appendChild(li);
      });
      attachModalTriggers();
    }

    // small helper to supply the flow/graph text per case (based on your provided lists)
    function buildFlowTextForCase(id){
      const flows = {
        1: "Orders → Hash & Heap → Dispatch Queue\nCity Graph → Dijkstra → Rider Path\n\nAlgorithms:\nBFS/DFS: explore nearby drivers\nDijkstra/Bellman-Ford: shortest path routing\nHeap: prioritize closest/fastest drivers\nQueue: ride request buffer\nHashing: fast driver/rider lookup",
        2: "Availability → Segment/Fenwick → Update\nNext-free → Heap → Allocate charger\nReservation lookup → Hashing\nStation metadata → Arrays/Structures",
        3: "Depot Graph → Kruskal/Prim → MST\nComponent tracking → Union-Find\nBatch ordering → Sorting (Quick/Merge/Heap)\nRoutes stored → Lists / Sequences",
        4: "Perishable → Heap → Prioritise\nConveyor → Queue → Buffer\nClassification → Selection/Insertion/Bubble\nGrouping → Union-Find\nBottleneck detection → DFS",
        5: "Plate lookup → Trie\nBalance map → Hashing\nOrdered slabs → AVL / RB / 2-3 Tree\nFast ordered access → Skip List\nData store → Arrays",
        6: "Sensor window → Segment Tree\nIncremental updates → Fenwick Tree\nHistorical RMQ → Sparse Table\nHigh-priority alerts → Heap\nMaintenance tasks → Queue",
        7: "Ordered slots → BST/AVL/Red-Black\nFast updates → Skip List\nVehicle→slot → Hashing\nSlot metadata → Structures",
        8: "Fault clusters → BFS/DFS\nRepair route → Dijkstra\nCircuit connectivity → Union-Find\nBrightness logs → Sparse Table",
        9: "Flow tracing → BFS/DFS\nPressure path → Dijkstra/Bellman-Ford\nIsolation → Union-Find\nRange queries → Segment/Sparse Table",
        10: "Live counts → Segment/Fenwick\nPeak ranges → Sparse Table\nPrioritise junctions → Heap\nIntersection lookup → Hashing\nCorridor grouping → BFS/DFS"
      };
      return flows[id]||"Orders → Hash & Heap → Dispatch Queue\nCity Graph → Dijkstra → Rider Path";
    }

    // attach modal triggers
    function attachModalTriggers(){
      document.querySelectorAll('button[data-link]').forEach(b=>{
        b.removeEventListener('click', codeClickHandler);
        b.addEventListener('click', codeClickHandler);
      });
    }

    function codeClickHandler(e){
      e.preventDefault();
      const btn = e.currentTarget;
      const link = btn.getAttribute('data-link');
      const title = btn.getAttribute('data-title');
      openModal(title, link);
    }

    // Syntax simple highlighter (very small; works well for C/C++ style)
    function escapeHtml(s){ return s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
    function highlightCode(src){
      // escape first
      let s = escapeHtml(src);

      // comments (//... and /* ... */)
      s = s.replace(/(\/\*[\s\S]*?\*\/|\/\/[^\n]*)/g, m => `<span class="tok-comment">${m}</span>`);

      // strings
      s = s.replace(/(".*?"|'.*?')/g, m => `<span class="tok-string">${m}</span>`);

      // numbers
      s = s.replace(/\b(\d+(\.\d+)?)\b/g, m => `<span class="tok-number">${m}</span>`);

      // keywords (common C/C++)
      const kw = "\\b(?:if|else|for|while|return|struct|class|public|private|protected|using|namespace|include|new|delete|switch|case|break|continue|typedef|const|static|template|typename|auto)\\b";
      s = s.replace(new RegExp(kw,'g'), m => `<span class="tok-keyword">${m}</span>`);

      // simple types
      s = s.replace(/\b(int|long|short|char|float|double|bool|void|size_t|std::vector|vector|string)\b/g, m => `<span class="tok-type">${m}</span>`);

      return s;
    }

    // modal open
    function openModal(title, link){
      modalTitle.textContent = title + ' — Code preview';
      modalSub.textContent = link;
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden','false');
      gutter.textContent = '';
      codeArea.textContent = 'Loading preview...';

      // fetch file (works same-origin)
      fetch(link).then(r=>{
        if(!r.ok) throw new Error('Could not fetch file (CORS / not hosted).');
        return r.text();
      }).then(txt=>{
        // line numbers
        const lines = txt.split(/\r\n|\r|\n/);
        const nums = [];
        for(let i=1;i<=lines.length;i++) nums.push(i);
        gutter.textContent = nums.join('\n');

        // highlighted code
        codeArea.innerHTML = highlightCode(txt);

        // sync scrolls
        syncScrolls();
      }).catch(err=>{
        gutter.textContent = '';
        // show plain text if fetch fails
        codeArea.textContent = `Preview not available from this host.\n\nFile: ${link}\n\nError: ${err.message}`;
      });
    }

    function syncScrolls(){
      gutter.scrollTop = 0;
      codeArea.scrollTop = 0;
      // keep gutter in sync
      codeArea.addEventListener('scroll', () => { gutter.scrollTop = codeArea.scrollTop; });
      gutter.addEventListener('scroll', () => { codeArea.scrollTop = gutter.scrollTop; });
    }

    // close
    document.getElementById('closeModal').addEventListener('click', closeModal);
    function closeModal(){ modalBackdrop.style.display = 'none'; modalBackdrop.setAttribute('aria-hidden','true'); gutter.textContent=''; codeArea.textContent=''; }

    // backdrop click to close
    modalBackdrop.addEventListener('click', (ev)=>{ if(ev.target===modalBackdrop) closeModal(); });

    // copy button: copy raw text (strip HTML if highlighted)
    copyBtn.addEventListener('click', ()=>{
      // if codeArea contains innerText with highlighted spans, innerText yields plain text
      const txt = codeArea.innerText || codeArea.textContent || '';
      if(!txt) return;
      navigator.clipboard?.writeText(txt).then(()=> alert('Code copied to clipboard'), ()=> alert('Copy not supported'));
    });

    // view toggles
    function clearActive(){
      [listBtn, gridBtn].forEach(b => { b.classList.remove('active'); b.setAttribute('aria-pressed','false'); });
    }
    function showView(view){
      if(view === 'list'){
        board.style.display = 'none';
        listViewEl.style.display = 'flex';
        clearActive(); listBtn.classList.add('active'); listBtn.setAttribute('aria-pressed','true');
      } else {
        listViewEl.style.display = 'none';
        board.style.display = 'grid';
        clearActive(); gridBtn.classList.add('active'); gridBtn.setAttribute('aria-pressed','true');
      }
      setTimeout(()=>{ const v = (view==='list')? listViewEl : board; if(v) v.scrollIntoView({behavior:'smooth'}); }, 60);
    }
    listBtn.addEventListener('click', ()=> showView('list'));
    gridBtn.addEventListener('click', ()=> showView('grid'));

    // keyboard shortcuts: 1=list, 2=grid, / focuses nothing here (no search)
    document.addEventListener('keydown', (e)=>{
      if(e.key === '1') showView('list');
      if(e.key === '2') showView('grid');
    });

    // init
    renderGrid(cases);
    renderList(cases);
    showView('grid');

    // reduce motion
    if (matchMedia('(prefers-reduced-motion: reduce)').matches) {
      document.documentElement.style.setProperty('--shadow-lg','none');
    }
  </script>
</body>
</html>
